--- origsrc/libxaw3dxft-1.3.3/configure.ac	2012-01-30 14:32:12.000000000 -0600
+++ src/libxaw3dxft-1.3.3/configure.ac	2012-02-27 21:46:21.211064400 -0600
@@ -20,6 +20,7 @@ AC_PROG_LN_S
 
 # Three build options formerly handled by editing Imakefile.
 
+XPM_DEP=
 AC_ARG_ENABLE([multiplane-pixmaps],
   [AS_HELP_STRING([--enable-multiplane-pixmaps],
                   [enable color pixmaps and add dependency on libXpm (default disabled)])],
@@ -27,6 +28,7 @@ AC_ARG_ENABLE([multiplane-pixmaps],
     AS_IF([test "$enable_multiplane_pixmaps" == yes], [
        AC_MSG_NOTICE([[Multiplane pixmaps are enabled.]])
        AC_SUBST([MULTIPLANE_PIXMAPS], ["#define"])
+       XPM_DEP="xpm"
     ], [
        AC_MSG_NOTICE([[Multiplane pixmaps are disabled.]])
        AC_SUBST([MULTIPLANE_PIXMAPS], ["#undef "])
@@ -71,7 +73,7 @@ AC_ARG_ENABLE([arrow-scrollbars],
     AC_SUBST([ARROW_SCROLLBARS], ["#define"])
   ])
 
-AC_PATH_XTRA
+PKG_CHECK_MODULES(X, x11 xext xft xmu xt $XPM_DEP)
 
 AC_MSG_CHECKING([location of freetype2 headers])
 AC_PREPROC_IFELSE(
--- origsrc/libxaw3dxft-1.3.3/Makefile.am	2012-02-05 09:38:19.000000000 -0600
+++ src/libxaw3dxft-1.3.3/Makefile.am	2012-02-27 22:07:01.093253500 -0600
@@ -92,4 +92,5 @@ install-exec-hook:
 # then set age to 0.
 
 # FIXME: Update libtool version info on each release
-libXaw3dxft_la_LDFLAGS = -version-info 7:2:0
+libXaw3dxft_la_LDFLAGS = -version-info 7:2:0 -no-undefined
+libXaw3dxft_la_LIBADD = $(X_LIBS)
